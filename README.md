# PSYCHOPY DATA CLEANER - ERM EXPERIMENT
## LIMPIADOR DE DATOS PSYCHOPY - EXPERIMENTO ERM

**Developed by / Desarrollado por:** Santiago Correa-Iriarte  
**Laboratory / Laboratorio:** MPAGER Lab  
**Contact / Contacto:** scorrea@uji.es

### Research Team / Equipo de Investigación:
* Marta García-Fernández
* Miguel Á. Escrigm, PhD.
* Raúl Escuder-Bort
* David López-Valero
* PI: Mamen Pastor, PhD.

**Repository / Repositorio:** [https://github.com/santicorrea-iriarte/erm_experiment]  
**Version / Versión:** 1.0 (Febrero 2026)

---

## ENGLISH VERSION

### DESCRIPTION
This software automates the processing of `.csv` files generated by PsychoPy for the ERM experiment. Two versions are provided:
1.  **`clean_data_gui.py`**: Interactive version with a graphical interface.
2.  **`clean_data_script.py`**: Fast, semi-automatic version (no GUI).

### USER INSTRUCTIONS
#### Option A: Full GUI (`clean_data_gui.py`)
1. **Run** the script. A window will appear.
2. **Enter** the output filename and choose the cleaning mode.
3. **Click** "Select Folder & Process" and choose your data folder.
You can generate an executable for this code using pyinstaller.

#### Option B: Fast Script (`clean_data_script.py`)
1. **Open** the script and set your preferred `OUTPUT_FILENAME` and `SUMMARY_MODE` at the top.
2. **Run** the script. It will only prompt you to select the data folder.

### MAINTENANCE & ADAPTATION
1. **Update `merging_map`**: Ensure names match PsychoPy's output exactly (e.g., `valence_resp.keys`). Names are **case-sensitive**.
2. **SYNTAX RULE**: If you rename a component in PsychoPy, you **MUST** update the script. If the new experiment is too different, consider coding a new script*.

*\*LLMs are your friends*

---

## VERSIÓN EN CASTELLANO

### DESCRIPCIÓN
Software para automatizar el procesamiento de archivos `.csv` de PsychoPy (experimento ERM). Se proporcionan dos versiones:
1.  **`clean_data_gui.py`**: Versión interactiva con interfaz gráfica.
2.  **`clean_data_script.py`**: Versión rápida y semiautomática (sin interfaz).

### INSTRUCCIONES DE USO
#### Opción A: Interfaz Completa (`clean_data_gui.py`)
1. **Ejecuta** el script. Aparecerá una ventana.
2. **Escribe** el nombre del archivo final y elige el modo de limpieza.
3. **Pulsa** "Select Folder & Process" y elige la carpeta de datos.
Puedes hacer un ejecutable con pyinstaller.

#### Opción B: Script Rápido (`clean_data_script.py`)
1. **Abre** el script y configura el `OUTPUT_FILENAME` y `SUMMARY_MODE` al inicio del código.
2. **Ejecuta** el script. Solo se abrirá el selector para elegir la carpeta de datos.

### MANTENIMIENTO Y ADAPTACIÓN
1. **Actualiza `merging_map`**: Los nombres deben coincidir con la salida de PsychoPy (ej. `valence_resp.keys`). Sensible a **mayúsculas**.
2. **REGLA DE SINTAXIS**: Si cambias un nombre en PsychoPy, **DEBES** actualizarlo en el script. Si el experimento es muy distinto, quizás sea mejor crear un script nuevo*.
*\*Los LLMs son tus amigos*

---

### CONTRIBUTIONS / CONTRIBUCIONES
Project hosted on GitHub. If you make substantial changes, please document them and perform a 'commit'. For questions: **scorrea@uji.es**.

Proyecto en GitHub. Si haces cambios sustanciales, documenta los cambios y realiza un 'commit'. Para dudas: **scorrea@uji.es**.
